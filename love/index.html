<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Hello Darling</title>
	<link rel="stylesheet" href="default.css">
</head>

<body>
	<audio id="music" src="love.mp3" controls preload="auto" style="display: none;" loop></audio>
	<iframe allow="autoplay" src="love.mp3" style="display: none;"></iframe>

	<div id="mainDiv">
		<div id="content">
			<div id="code">
				<span class="comments">/**</span>
				<br>
				<span class="comments">** 2019—7-4</span>
				<br>
				** <span class="comments" id="nowDate"></span>
				<br>
				<span class="comments">**/</span> <br><br>

				<span>Boy name = <span class="keyword">Mr</span> SUN</span><br>

				<span>Girl name = <span class="keyword">Mrs</span> MA</span><br>

				<span><span class="keyword">亲爱的</span>,我们在一起一个月啦;</span>
				<svg class="icon" aria-hidden="true" style="font-size: 22px;">
					<use xlink:href="#icon-qinqin"></use>
				</svg>
				<br>

				<span class="comments">记得6.5号刚刚认识<span class="keyword">亲爱的</span>.</span><br>

				<span>看了<span class="keyword">亲爱的</span>照片感觉好漂亮 好可爱哦.</span>
				<svg class="icon" aria-hidden="true" style="font-size: 22px;">
					<use xlink:href="#icon-xiaolian5"></use>
				</svg>
				<br>

				<span>我还在想<span class="keyword">亲爱的</span>是怎么看上我的.</span><br>
				<span class="comments">可能是感觉我人比较好吧</span>
				<svg class="icon" aria-hidden="true" style="font-size: 22px;">
					<use xlink:href="#icon-haixiu2"></use>
				</svg>
				<span class="keyword">嘿嘿嘿</span>
				<br>

				<span>之后的几天和<span class="keyword">亲爱的</span>聊了许多 慢慢地有点了解了.</span><br>

				<span class="comments">嗯..6.11号终于见到<span class="keyword">亲爱的</span>啦.</span>
				<svg class="icon" aria-hidden="true" style="font-size: 22px;">
					<use xlink:href="#icon-keai2"></use>
				</svg>
				<br>

				<span>感觉<span class="keyword">亲爱的</span>比照片中成熟一点点. 不过还是一样可爱啦.</span>
				<svg class="icon" aria-hidden="true" style="font-size: 20px;">
					<use xlink:href="#icon-haixiu1"></use>
				</svg>
				<br>

				<span class="comments">嗯...第一次见面还是挺顺利的吧 没有那么多尴尬啦.</span>
				<svg class="icon" aria-hidden="true" style="font-size: 24px;">
					<use xlink:href="#icon-xiaolian-"></use>
				</svg>
				<br>

				<span>之后和<span class="keyword">亲爱的</span>见面也越来越频繁了,感觉挺喜欢的</span>
				<br>

				<span class="comments">感觉自己也没有什么优势吧,只能努力对<span class="keyword">亲爱的</span>好一点</span>
				<svg class="icon" aria-hidden="true" style="font-size: 24px;">
					<use xlink:href="#icon-haixiu3"></use>
				</svg>
				<br>

				<span>想起那天<span class="keyword">亲爱的</span>说自己是单亲家庭,那一刻真的很心疼</span>
				<svg class="icon" aria-hidden="true" style="font-size: 26px;">
					<use xlink:href="#icon-hug"></use>
				</svg>
				<br>

				<span class="comments">那一刻我觉得我要加倍对你好,这样才能让你感受到温暖</span>
				<svg class="icon" aria-hidden="true" style="font-size: 26px;">
					<use xlink:href="#icon-keai"></use>
				</svg>
				<br>

				<span>之后的日子里,感情也越来越好,还拉手亲亲抱抱了</span>
				<br>

				<span class="comments">我们一起做饭 去游乐园 还做了很多以前没做过的事情</span>
				<svg class="icon" aria-hidden="true" style="font-size: 26px;">
					<use xlink:href="#icon-se"></use>
				</svg>
				<br>

				<span style="padding-top: 10px;">和<span class="keyword">亲爱的</span>在一起很开心 很幸福 想一直这么下去</span>
				<svg class="icon" aria-hidden="true" style="font-size: 26px;top:5px;">
					<use xlink:href="#icon-019"></use>
				</svg>
				<br>

				<span class="comments"><span class="keyword">亲爱的</span>,遇见你真好,我会好好努力,好好珍惜你的</span>
				<br>

				<span>希望我们可以一直走下去,直到最后,好爱你</span>
				<svg class="icon" aria-hidden="true" style="font-size: 26px;">
					<use xlink:href="#icon-biaoqing-momoda"></use>
				</svg>
				<br>

				<span class="comments">I want to say:</span><br>
				<span class="comments">Baby, I love you forever;</span>
				<svg class="icon" aria-hidden="true" style="font-size: 26px;">
					<use xlink:href="#icon-qinqin1"></use>
				</svg>
			</div>
			<div id="loveHeart">
				<canvas id="garden" width="670" height="625"></canvas>
				<div id="words">
					<div id="messages">
						亲爱的，这是我们相爱在一起的时光。

						<div id="elapseClock">
							<span class="digit">2301</span>
							days <span class="digit">14</span>
							hours <span class="digit">51</span>
							minutes <span class="digit">44</span>
							seconds
						</div>
					</div>
					<div id="loveu">
						爱你直到永永远远。<br>
						<div class="signature">—— 你的麦芽糖</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<script src="font/iconfont.js"></script>
	<script src="jquery.js"></script>
	<script src="garden.js"></script>
	<script src="functions.js"></script>
	<script>
		initDate();

		var together = new Date(2019, 6, 4, 21, 32, 0);

		if (!IsPC()) {
			var music = document.getElementById("music");

			//	移动端自动播放
			document.addEventListener("touchstart", function (e) {
				music.play();
			}, false);
			//	兼容微信浏览器自动播放
			document.addEventListener("WeixinJSBridgeReady", function () {
				audio.play();
			}, false);

			window.webView && (window.webView.mediaPlaybackRequiresUserAction = NO);
			window.mWebview && (window.mWebview.getSettings().setMediaPlaybackRequiresUserGesture(false));
		}


		// setup garden
		$loveHeart = $("#loveHeart");
		$garden = $("#garden");
		gardenCanvas = $garden[0];
		gardenCanvas.width = $("#loveHeart").width();
		gardenCanvas.height = $("#loveHeart").height()
		gardenCtx = gardenCanvas.getContext("2d");
		gardenCtx.globalCompositeOperation = "lighter";
		garden = new Garden(gardenCtx, gardenCanvas);

		$("#content").css("width", $loveHeart.width() + $("#code").width());
		$("#content").css("height", Math.max($loveHeart.height(), $("#code").height()));

		setTimeout(function () {
			startHeartAnimation();
		}, 5000);

		timeElapse(together);
		setInterval(function () {
			timeElapse(together);
		}, 500);

		$("#code").typewriter();

		// renderLoop
		setInterval(function () {
			garden.render();
		}, Garden.options.growSpeed);
	</script>
</body>

</html>